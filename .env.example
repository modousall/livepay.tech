# ====================================
# Variables d'environnement LivePay
# ====================================

# === Configuration de l'application ===
NODE_ENV=production
PORT=5000
APP_HOST=https://livepay.tech
APP_DOMAIN=livepay.tech
APP_BASE_URL=https://livepay.tech
SESSION_SECRET=your-secure-session-secret-min-32-chars

# === WhatsApp Business API (Meta) ===
WHATSAPP_PHONE_NUMBER_ID=994899897039054
WHATSAPP_ACCESS_TOKEN=EAARI...your-token
WHATSAPP_VERIFY_TOKEN=livepay_webhook_verify
WHATSAPP_APP_SECRET=your-app-secret

# === Wasender API - Multi-WABA Support ===
# Architecture: 1 Vendor = 1 Numéro WhatsApp = 1 Instance Wasender
# Chaque vendor a son propre numéro et configure sa propre instance
# 
# Configuration globale Wasender (utilisée pour l'API de base)
WASENDER_API_URL=https://api.wasenderapi.com/api/v1
WASENDER_API_KEY=your-wasender-master-api-key
#
# Les configurations spécifiques par vendor sont stockées en Firestore
# Collection: waba_instances
# {
#   vendorId: "vendor_123",
#   phoneNumber: "+221701111111",
#   provider: "wasender",
#   wasenderInstanceId: "instance_abc123",
#   wasenderApiKey: "vendor-specific-api-key",
#   wasenderWebhookSecret: "webhook_secret_xyz",
#   status: "connected"
# }
#
# Webhook URL par vendor: 
# POST https://your-domain/api/webhooks/wasender/:vendorId

# === Bictorys Payment Service ===
BICTORYS_BASE_URL=https://api.bictorys.com

# === Firebase (auto-configured in Cloud Functions) ===
# FIREBASE_PROJECT_ID=live-pay-97ac6
# FIREBASE_STORAGE_BUCKET=live-pay-97ac6.firebasestorage.app

# === Monitoring & Error Tracking ===
# Sentry pour le suivi des erreurs
SENTRY_DSN=https://your-sentry-dsn@o0.ingest.sentry.io/0
LOG_LEVEL=info

# === Rate Limiting ===
# Redis pour le rate limiting distribué (optionnel, fallback vers mémoire)
REDIS_URL=redis://localhost:6379

# === Payment Gateways ===
# Wave - Mobile Money
WAVE_API_KEY=your-wave-api-key
WAVE_WEBHOOK_SECRET=your-wave-webhook-secret
WAVE_MERCHANT_ID=your-wave-merchant-id

# Orange Money - Mobile Money
ORANGE_MONEY_API_KEY=your-orange-money-api-key
ORANGE_MONEY_MERCHANT_ID=your-merchant-id
ORANGE_MONEY_WEBHOOK_SECRET=your-webhook-secret

# MTN Mobile Money
MTN_MOMO_API_KEY=your-mtn-momo-api-key
MTN_MOMO_MERCHANT_ID=your-merchant-id

# Moov Money
MOOV_MONEY_API_KEY=your-moov-money-api-key
MOOV_MONEY_MERCHANT_ID=your-merchant-id

# Free Money
FREE_MONEY_API_KEY=your-free-money-api-key
FREE_MONEY_MERCHANT_ID=your-merchant-id

# PayDunya PSP - Solution de paiement unifiée (Recommandé)
# Obtenez vos clés sur https://paydunya.com
PAYDUNYA_API_KEY=pk_test_xxxxxxxxxx          # Master Key
PAYDUNYA_SECRET_KEY=sk_test_xxxxxxxxxx       # Private Key
PAYDUNYA_WEBHOOK_SECRET=whsec_xxxxxxxxxx     # Webhook Secret
PAYDUNYA_MODE=sandbox                        # "sandbox" ou "live"

# === Firebase Admin SDK (Server-side) ===
# Option 1: Service Account Key File
FIREBASE_SERVICE_ACCOUNT_PATH=./serviceAccountKey.json

# Option 2: Variables d'environnement (alternative)
# FIREBASE_CLIENT_EMAIL=your-client-email
# FIREBASE_PRIVATE_KEY=your-private-key

